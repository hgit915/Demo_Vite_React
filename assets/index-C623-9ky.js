import{r,h as v,p as C,k as E,m as y,j as e,z as L,A as S}from"./index-CVkWFu2v.js";import{A,V as M,a as B,L as x}from"./VisibilityOff-Bu3La7jH.js";import{B as F}from"./Box-DosX6QM1.js";import{T as I,F as d,a as N,I as k,O as D}from"./TextField-0hzCJ_GQ.js";import{a as P,I as T}from"./InputAdornment-Auf_oQ7W.js";import{F as V,C as O}from"./FormControlLabel-MDVAXRqy.js";import{B as z}from"./Button-B4vz3oNv.js";import"./Typography-4Dhy4s7q.js";import"./createSvgIcon-DILnmTci.js";import"./react-is.production.min-DUDD-a5e.js";import"./Modal-CjDT00mN.js";import"./mergeSlotProps-C0Y4RLEe.js";import"./ButtonBase-Caj3Nt0H.js";import"./styled-Cbc4DzqU.js";import"./createStyled-B59xLCnK.js";const se=r.memo(()=>{const c=v(),h=C(),[p,f]=r.useState(""),[t,g]=r.useState(""),[a,j]=r.useState(""),[o,u]=r.useState({email:!1,password:!1}),{errMsg:n,isLogin:l}=E(s=>({isLogin:s.user.isLogin,errMsg:s.user.errMsg}),y),[i,w]=r.useState(n);r.useEffect(()=>{l&&h("/home")},[l]),r.useEffect(()=>{w(n)},[n]);const b=s=>{if(s.preventDefault(),c(L("")),u(m=>({...m,email:!1,password:!1})),!t||!a){u(m=>({...m,email:!t,password:!a}));return}c(S({email:t,password:a}))};return!l&&e.jsxs(A,{children:[e.jsx("div",{className:"sideImg"}),e.jsxs("div",{className:"formContent",children:[e.jsxs("p",{className:"subTitle",children:["享樂酒店，誠摯歡迎 ",e.jsx("br",{}),e.jsx("span",{children:"立即開始旅程"})]}),e.jsxs(F,{component:"form",noValidate:!0,autoComplete:"off",display:"flex",flexDirection:"column",gap:2,sx:{m:"auto",width:"80%"},justifyContent:"center",onSubmit:b,children:[e.jsx(I,{id:"outlined-basic",label:"帳號",variant:"outlined",placeholder:"abc@example.com",value:t,onChange:s=>g(s.target.value.trim()),error:o.email||!!i}),o.email&&e.jsx(d,{error:!0,children:"帳號不得為空"}),e.jsxs(N,{variant:"outlined",error:o.password||!!i,children:[e.jsx(k,{htmlFor:"outlined-adornment-password",children:"密碼"}),e.jsx(D,{id:"outlined-adornment-password",type:p?"text":"password",endAdornment:e.jsx(P,{position:"end",children:e.jsx(T,{"aria-label":"toggle password visibility",onClick:()=>f(s=>!s),onMouseDown:s=>s.preventDefault(),edge:"end",children:p?e.jsx(M,{}):e.jsx(B,{})})}),label:"Password",value:a,onChange:s=>{j(s.target.value.trim())}})]}),o.password&&e.jsx(d,{error:!0,children:"密碼不得為空"}),e.jsxs("div",{className:"hint",children:[e.jsx(V,{sx:{width:"120px"},control:e.jsx(O,{defaultChecked:!0}),label:"記住帳號"}),e.jsx(x,{href:"/forgot",children:"忘記密碼？"})]}),i&&e.jsx(d,{className:"allErrMsg",error:!0,children:i}),e.jsx(z,{variant:"contained",size:"large",type:"submit",button:"primary",children:"會員登入"})]}),e.jsxs("p",{className:"regLink",children:["沒有會員嗎?",e.jsx(x,{href:"#/sign",children:"前往註冊"})]})]})]})});export{se as default};
