import{r as c,k as C,o as E,R as r,l as y,m as L,j as e,A as S,B as A}from"./index-B2_irwuj.js";import{A as B,V as M,a as F,L as h}from"./VisibilityOff-iS9ihNIY.js";import{B as I}from"./Box-ClYAFuGb.js";import{T as N,F as m,a as k,I as D,O as P,B as T}from"./TextField-CNXd2Kdx.js";import{a as V,I as O}from"./InputAdornment-kPUuUgFh.js";import{F as R,C as W}from"./FormControlLabel-D3EPJVkE.js";import"./styled-CDS4iABz.js";const U=c.memo(()=>{const u=C(),f=E(),[p,g]=r.useState(""),[a,j]=r.useState(""),[t,w]=r.useState(""),[o,x]=r.useState({email:!1,password:!1}),{errMsg:n,isLogin:l}=y(s=>({isLogin:s.user.isLogin,errMsg:s.user.errMsg}),L),[i,b]=r.useState(n);c.useEffect(()=>{l&&f("/home")},[l]),c.useEffect(()=>{b(n)},[n]);const v=s=>{if(s.preventDefault(),u(S("")),x(d=>({...d,email:!1,password:!1})),!a||!t){x(d=>({...d,email:!a,password:!t}));return}u(A({email:a,password:t}))};return!l&&e.jsxs(B,{children:[e.jsx("div",{className:"sideImg"}),e.jsxs("div",{className:"formContent",children:[e.jsxs("p",{className:"subTitle",children:["享樂酒店，誠摯歡迎 ",e.jsx("br",{}),e.jsx("span",{children:"立即開始旅程"})]}),e.jsxs(I,{component:"form",noValidate:!0,autoComplete:"off",display:"flex",flexDirection:"column",gap:2,sx:{m:"auto",width:"80%"},justifyContent:"center",onSubmit:v,children:[e.jsx(N,{id:"outlined-basic",label:"帳號",variant:"outlined",placeholder:"abc@example.com",value:a,onChange:s=>j(s.target.value.trim()),error:o.email||!!i}),o.email&&e.jsx(m,{error:!0,children:"帳號不得為空"}),e.jsxs(k,{variant:"outlined",error:o.password||!!i,children:[e.jsx(D,{htmlFor:"outlined-adornment-password",children:"密碼"}),e.jsx(P,{id:"outlined-adornment-password",type:p?"text":"password",endAdornment:e.jsx(V,{position:"end",children:e.jsx(O,{"aria-label":"toggle password visibility",onClick:()=>g(s=>!s),onMouseDown:s=>s.preventDefault(),edge:"end",children:p?e.jsx(M,{}):e.jsx(F,{})})}),label:"Password",value:t,onChange:s=>{w(s.target.value.trim())}})]}),o.password&&e.jsx(m,{error:!0,children:"密碼不得為空"}),e.jsxs("div",{className:"hint",children:[e.jsx(R,{sx:{width:"120px"},control:e.jsx(W,{defaultChecked:!0}),label:"記住帳號"}),e.jsx(h,{href:"/forgot",children:"忘記密碼？"})]}),i&&e.jsx(m,{className:"allErrMsg",error:!0,children:i}),e.jsx(T,{variant:"contained",size:"large",type:"submit",button:"primary",children:"會員登入"})]}),e.jsxs("p",{className:"regLink",children:["沒有會員嗎?",e.jsx(h,{href:"#/sign",children:"前往註冊"})]})]})]})});export{U as default};
