import{r as m,k as y,o as C,R as r,l as E,m as L,j as e,y as S,z as M}from"./index-D340iFel.js";import{A,V as B,a as F,L as h}from"./VisibilityOff-CN4JJRLN.js";import{B as I}from"./Box-DjHMrn4_.js";import{T as N,F as c,a as k,I as D,O as P}from"./TextField-pgbd9yT_.js";import{a as T,I as V}from"./InputAdornment-OkfnpCmx.js";import{F as O,C as R}from"./FormControlLabel-UJn91F3s.js";import{B as z}from"./Button-XXMUF6ki.js";import"./styled-BhPBWOhk.js";import"./createStyled-9HYQIvXo.js";const Y=m.memo(()=>{const u=y(),f=C(),[p,g]=r.useState(""),[a,j]=r.useState(""),[t,w]=r.useState(""),[o,x]=r.useState({email:!1,password:!1}),{errMsg:n,isLogin:l}=E(s=>({isLogin:s.user.isLogin,errMsg:s.user.errMsg}),L),[i,b]=r.useState(n);m.useEffect(()=>{l&&f("/home")},[l]),m.useEffect(()=>{b(n)},[n]);const v=s=>{if(s.preventDefault(),u(S("")),x(d=>({...d,email:!1,password:!1})),!a||!t){x(d=>({...d,email:!a,password:!t}));return}u(M({email:a,password:t}))};return!l&&e.jsxs(A,{children:[e.jsx("div",{className:"sideImg"}),e.jsxs("div",{className:"formContent",children:[e.jsxs("p",{className:"subTitle",children:["享樂酒店，誠摯歡迎 ",e.jsx("br",{}),e.jsx("span",{children:"立即開始旅程"})]}),e.jsxs(I,{component:"form",noValidate:!0,autoComplete:"off",display:"flex",flexDirection:"column",gap:2,sx:{m:"auto",width:"80%"},justifyContent:"center",onSubmit:v,children:[e.jsx(N,{id:"outlined-basic",label:"帳號",variant:"outlined",placeholder:"abc@example.com",value:a,onChange:s=>j(s.target.value.trim()),error:o.email||!!i}),o.email&&e.jsx(c,{error:!0,children:"帳號不得為空"}),e.jsxs(k,{variant:"outlined",error:o.password||!!i,children:[e.jsx(D,{htmlFor:"outlined-adornment-password",children:"密碼"}),e.jsx(P,{id:"outlined-adornment-password",type:p?"text":"password",endAdornment:e.jsx(T,{position:"end",children:e.jsx(V,{"aria-label":"toggle password visibility",onClick:()=>g(s=>!s),onMouseDown:s=>s.preventDefault(),edge:"end",children:p?e.jsx(B,{}):e.jsx(F,{})})}),label:"Password",value:t,onChange:s=>{w(s.target.value.trim())}})]}),o.password&&e.jsx(c,{error:!0,children:"密碼不得為空"}),e.jsxs("div",{className:"hint",children:[e.jsx(O,{sx:{width:"120px"},control:e.jsx(R,{defaultChecked:!0}),label:"記住帳號"}),e.jsx(h,{href:"/forgot",children:"忘記密碼？"})]}),i&&e.jsx(c,{className:"allErrMsg",error:!0,children:i}),e.jsx(z,{variant:"contained",size:"large",type:"submit",button:"primary",children:"會員登入"})]}),e.jsxs("p",{className:"regLink",children:["沒有會員嗎?",e.jsx(h,{href:"#/sign",children:"前往註冊"})]})]})]})});export{Y as default};
