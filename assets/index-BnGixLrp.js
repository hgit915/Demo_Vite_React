import{r as m,h as y,n as C,R as r,k as E,l as L,j as e,x as S,y as M}from"./index-6j9zUeTH.js";import{A,V as B,a as F,L as h}from"./VisibilityOff-T95nA6r4.js";import{B as I}from"./Box-DmIBPk6T.js";import{T as N,F as c,a as k,I as D,O as P}from"./TextField-CHQnchov.js";import{a as T,I as V}from"./InputAdornment-CC7YmdYm.js";import{F as O,C as R}from"./FormControlLabel-CGk1DOi0.js";import{B as W}from"./Button-DL_d1CX-.js";import"./Modal-gMO9npr2.js";import"./mergeSlotProps-mUW9xaLC.js";import"./createSvgIcon-Cb_IpOPE.js";import"./styled-CI5rMf7N.js";import"./createStyled-CdLGlWqd.js";const $=m.memo(()=>{const p=y(),f=C(),[u,g]=r.useState(""),[t,j]=r.useState(""),[a,w]=r.useState(""),[o,x]=r.useState({email:!1,password:!1}),{errMsg:n,isLogin:l}=E(s=>({isLogin:s.user.isLogin,errMsg:s.user.errMsg}),L),[i,b]=r.useState(n);m.useEffect(()=>{l&&f("/home")},[l]),m.useEffect(()=>{b(n)},[n]);const v=s=>{if(s.preventDefault(),p(S("")),x(d=>({...d,email:!1,password:!1})),!t||!a){x(d=>({...d,email:!t,password:!a}));return}p(M({email:t,password:a}))};return!l&&e.jsxs(A,{children:[e.jsx("div",{className:"sideImg"}),e.jsxs("div",{className:"formContent",children:[e.jsxs("p",{className:"subTitle",children:["享樂酒店，誠摯歡迎 ",e.jsx("br",{}),e.jsx("span",{children:"立即開始旅程"})]}),e.jsxs(I,{component:"form",noValidate:!0,autoComplete:"off",display:"flex",flexDirection:"column",gap:2,sx:{m:"auto",width:"80%"},justifyContent:"center",onSubmit:v,children:[e.jsx(N,{id:"outlined-basic",label:"帳號",variant:"outlined",placeholder:"abc@example.com",value:t,onChange:s=>j(s.target.value.trim()),error:o.email||!!i}),o.email&&e.jsx(c,{error:!0,children:"帳號不得為空"}),e.jsxs(k,{variant:"outlined",error:o.password||!!i,children:[e.jsx(D,{htmlFor:"outlined-adornment-password",children:"密碼"}),e.jsx(P,{id:"outlined-adornment-password",type:u?"text":"password",endAdornment:e.jsx(T,{position:"end",children:e.jsx(V,{"aria-label":"toggle password visibility",onClick:()=>g(s=>!s),onMouseDown:s=>s.preventDefault(),edge:"end",children:u?e.jsx(B,{}):e.jsx(F,{})})}),label:"Password",value:a,onChange:s=>{w(s.target.value.trim())}})]}),o.password&&e.jsx(c,{error:!0,children:"密碼不得為空"}),e.jsxs("div",{className:"hint",children:[e.jsx(O,{sx:{width:"120px"},control:e.jsx(R,{defaultChecked:!0}),label:"記住帳號"}),e.jsx(h,{href:"/forgot",children:"忘記密碼？"})]}),i&&e.jsx(c,{className:"allErrMsg",error:!0,children:i}),e.jsx(W,{variant:"contained",size:"large",type:"submit",button:"primary",children:"會員登入"})]}),e.jsxs("p",{className:"regLink",children:["沒有會員嗎?",e.jsx(h,{href:"#/sign",children:"前往註冊"})]})]})]})});export{$ as default};
